# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
  minInstances: 0

env:
  # Firebase client config exposed to the browser.
  - variable: PUBLIC_FIREBASE_API_KEY
    value: AIzaSyC1cwbO_aXWxtu1tMTOZUHHwhgP3_v-YsY
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_AUTH_DOMAIN
    value: penni-ai-platform.firebaseapp.com
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_PROJECT_ID
    value: penni-ai-platform
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_STORAGE_BUCKET
    value: penni-ai-platform.firebasestorage.app
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "562451436384"
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_APP_ID
    value: 1:562451436384:web:78af9bd13de3321eea4405
    availability:
      - BUILD
      - RUNTIME
  - variable: PUBLIC_FIREBASE_MEASUREMENT_ID
    value: G-MWC7SQS1KH
    availability:
      - BUILD
      - RUNTIME

  # Server-side Firebase configuration.
  - variable: FIREBASE_PROJECT_ID
    value: penni-ai-platform
    availability:
      - RUNTIME

  # Site configuration.
  - variable: PUBLIC_SITE_URL
    value: http://localhost:5002
    availability: [ BUILD, RUNTIME ]

  # Stripe configuration.
  - variable: PUBLIC_STRIPE_PUBLISHABLE_KEY
    value: pk_test_51SKoanH1EcnfAMZvTYcStRpm2iuYqd8yHLjXqdbKQl7iy7xrNZukL8z4HwZatttovP4ZgPS19PSBj4FupQy3dI8O00DqHMubq5
    availability:
      - BUILD
      - RUNTIME
  - variable: STRIPE_SECRET_KEY
    secret: STRIPE_SECRET_KEY
    availability:
      - RUNTIME
  - variable: STRIPE_WEBHOOK_SECRET
    secret: STRIPE_WEBHOOK_SECRET
    availability:
      - RUNTIME

  # Stripe product configuration.
  - variable: STRIPE_PRODUCT_STARTER
    value: prod_TKJoQYsI35pNvM
    availability:
      - RUNTIME
  - variable: STRIPE_PRODUCT_GROWTH
    value: prod_TKJoeYeR07s6td
    availability:
      - RUNTIME
  - variable: STRIPE_PRODUCT_EVENT
    value: prod_TKJou1gDBzMKdn
    availability:
      - RUNTIME

  # Stripe pricing configuration.
  - variable: STRIPE_PRICE_STARTER
    value: price_1SNfBEH1EcnfAMZvJiI3uIwM
    availability:
      - RUNTIME
  - variable: STRIPE_PRICE_GROWTH
    value: price_1SNfBFH1EcnfAMZvjtlQjvQl
    availability:
      - RUNTIME
  - variable: STRIPE_PRICE_EVENT
    value: price_1SNfBFH1EcnfAMZvvcIDo8ir
    availability:
      - RUNTIME

  # OpenAI configuration.
  - variable: OPENAI_API_KEY
    secret: OPENAI_API_KEY
    availability:
      - RUNTIME
  - variable: OPENAI_MODEL
    value: gpt-4o-mini
    availability:
      - RUNTIME

  # Emulator host overrides
  - variable: PUBLIC_FIREBASE_AUTH_EMULATOR_HOST
    value: http://127.0.0.1:9100
    availability: [ BUILD, RUNTIME ]

  - variable: FIREBASE_AUTH_EMULATOR_HOST
    value: 127.0.0.1:9100
    availability: [ RUNTIME ]

  - variable: FIREBASE_FUNCTIONS_EMULATOR_ORIGIN
    value: http://127.0.0.1:6200
    availability: [ RUNTIME ]

  - variable: FIRESTORE_EMULATOR_HOST
    value: 127.0.0.1:6201
    availability: [ RUNTIME ]
